<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head></h:head>
    <h:body>
        <ui:composition  template="../../template/template.xhtml">
            <ui:define name="bodyleft">
                <div class="bodyleft">
                    <p:gmap  widgetVar="geoMap" center="#{eventoMB.evento.posicion}" zoom="15" type="HYBRID" model="#{geocodeView.geoModel}" style="width:80%;height:400px"/>
                </div>
            </ui:define>
            <ui:define name="bodycenter">
                <div class="bodycenter">
                    <h:form>
                        <div>
                            <p:graphicImage name="#{eventoMB.evento.imagen}" alt="#{eventoMB.evento.titulo}" library="eventos" styleClass="w80"/>
                        </div>
                        <div class="eventoDetalles">
                            <h:panelGrid columns="2">
                                <h:outputText value="Titulo:"/>
                                <h:outputText value="#{eventoMB.evento.titulo}"/>
                                <h:outputText value="Fecha de inicio:"/>
                                <h:outputText value="#{eventoMB.evento.fhinicio}">
                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                </h:outputText>                                          
                                <h:outputText value="Hora de inicio:"/>
                                <h:outputText value="#{eventoMB.evento.horainicio}">
                                    <f:convertDateTime pattern="hh:mm" />
                                </h:outputText>        
                                <h:outputText value="Descripcion:"/>
                                <h:outputText  value="#{eventoMB.evento.descripcion}" />
                            </h:panelGrid>
                        </div>
                        <div>
                            <p:commandButton action="#{eventoMB.volver}" value="Volver"/>
                        </div>
                </div>
                </h:form>
            </ui:define>
            <ui:define name="bodyright">
                <div class="bodyleft">
                    <h:form>
                        <p:panel class="w80">
                            <p:dataList value="#{eventoMB.listaAsistente}" var="asistente">
                                <p:commandLink action="#{eventoMB.irAPerfil(asistente.idPersona)}" style="height: 50px">
                                    <h:outputText value="#{asistente.nombre} #{asistente.apellidop}"/>
                                    <f:facet name="description">
                                        <p:graphicImage library="usuarios/#{asistente.idUsuario.idUsuario}" name="perfil.jpg" style="max-height: 50px;"/> 
                                    </f:facet>
                                </p:commandLink>
                            </p:dataList>
                        </p:panel>
                    </h:form>
                </div>

            </ui:define>
        </ui:composition>
    </h:body>
</html>
